<!doctype html>
<html>
<head>
	<title></title>
	<meta charset='utf-8' />
	<style type="text/css">
		div{
			border:1px solid red;
			height:30px;
			width:0;
		}
	</style>
</head>

<body>
	<div id="div"></div>
	<input id="btn" type="button" value="正向"/>
	<script type="text/javascript">
		var div=document.getElementById("div");
		var btn=document.getElementById("btn");
		var i=t=0;
		var f;
		btn.onclick=function () {
			clearTimeout(f);
			t++;
			aa();
			function aa() {
				f=setTimeout(aa,17);
				if(t%2==1)
				{
					i++;
					btn.value="正向";
					
				}
				if(t%2==0) {
					i--;
					if(i==0)
					{
						t++;
					}
					btn.value="反向";
				}
				div.style.width=i+"px";
			}
		}
		
	</script>
</body>
</html>
