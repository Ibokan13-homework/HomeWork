<!doctype html>
<html>
<head>
	<title></title>
	<meta charset='utf-8' />
	<style>
		body{
			background:red;
			position:relative;
			left:0;
			top:0;
			z-index:0;
		}
		a img{
			border:0;
		}
		#all{
			width:100%;
			height:600px;
			background:black;
			position:absolute;
			opacity:0;
			left:0;
			top:0;
			z-index:5;
		}
		#an{
			width:72px;
			height:72px;
			position:fixed;
			right:40px;
			top:80px;
			z-index:25;
			_position:absolute;
			_top:expression(eval(document.documentElement.scrollTop + 80));
		}
		#son{
			width:600px;
			height:200px;
			border:1px solid blue;
			position:fixed;
			left:50%;
			top:50%;
			margin-left:-300px;
			margin-top:-100px;
			z-index:20;
			display:hidden;
			display:none;
		}
		#son div{
			width:300px;
			height:100px;
			float:left;
			overflow:hidden;
		}
		#son .sona{
			background:green;
			position:absolute;
			left:0px;
			bottom:100px;
			z-index:21;
			overflow:hidden;
		}
		#son .sonb{
			background:yellow;
			position:absolute;
			left:300px;
			top:0px;
			z-index:22;
		}
		#son .sonc{
			background:white;
			position:absolute;
			right:300px;
			bottom:0px;
			z-index:24;
		}
		#son .sond{
			background:purple;
			position:absolute;
			right:0px;
			top:100px;
			z-index:23;
		}
	</style>
</head>
<body>
	<div>
		<a href="#" id="an"><img src="yuan.png" alt="" /></a>
		<div id="all"></div>
		<div id="son">
			<div class="sona" id="ona">1</div>
			<div class="sonb" id="onb">2</div>
			<div class="sonc" id="onc">3</div>
			<div class="sond" id="ond">4</div>
		</div>
	</div>
	<script src="tween.js"></script>
	<script src="lib zhi.js"></script>
	<script>
		var index = 0;
		var ans = $$('an'),
			all = $$('all'),
		    son = $$('son'),
			ona = $$('ona'),
			onb = $$('onb'),
			onc = $$('onc'),
			ond = $$('ond');
		ans.onclick = function () {
			index++;
			if (index%2 == 1) {
				startMove(all,"opacity",0.6);
				son.style.display = "block";
				startMove(ans,"top",258);
				startMove(ans,"right",635);
				//四个小DIV
				ona.style.height = "0";
				onb.style.width = "0";
				ond.style.height = "0";
				onc.style.width = "0";
				startMove(ona,"height",100,{endFn:function () {
					startMove(onb,"width",300,{endFn:function () {	
						startMove(ond,"height",100,{endFn:function () {	
							startMove(onc,"width",300);
						}});
					}});
				}});
			}
			else {
				startMove(onc,"width",0,{endFn:function () {
					startMove(ond,"height",0,{endFn:function () {	
						startMove(onb,"width",0,{endFn:function () {	
							startMove(ona,"height",0);
							startMove(all,"opacity",0);
							son.style.display = "none";
							startMove(ans,"top",80);
							startMove(ans,"right",40);
						}});
					}});
				}});
			}
		}
	</script>
</body>
</html>
